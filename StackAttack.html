<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ball Battle Arena</title>
<style>
  body {
    margin: 0;
    background: #111;
    color: white;
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    height: 100vh;
  }
  canvas {
    background: #222;
    border: 4px solid #555;
    border-radius: 10px;
  }
</style>
</head>
<body>
<h1 style="text-align:center; color:white; margin:20px 0 5px 0; font-size:48px; text-shadow:0 0 15px #ff4d4d;">Sumo</h1>
<h3 style="text-align:center; color:#ccc; margin:0 0 20px 0; font-size:22px;">Last One Standing Wins!</h3>
<canvas id="gameCanvas"" width="600" height="600"></canvas>
<script>
// ===============================
// Ball Battle Arena
// ===============================

const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
const W = canvas.width;
const H = canvas.height;

// Arena settings
const arena = {
  x: W / 2,
  y: H / 2,
  radius: 250
};

// Player settings
const player = {
  x: W / 2,
  y: H / 2,
  radius: 20,
  speed: 4,
  vx: 0,
  vy: 0
};

let mouse = { x: player.x, y: player.y };

// Enemies
const enemies = [];
for (let i = 0; i < 3; i++) {
  const angle = Math.random() * Math.PI * 2;
  enemies.push({
    x: arena.x + Math.cos(angle) * 150,
    y: arena.y + Math.sin(angle) * 150,
    radius: 20,
    vx: 0,
    vy: 0,
    alive: true
  });
}

// Track mouse
canvas.addEventListener("mousemove", e => {
  const rect = canvas.getBoundingClientRect();
  mouse.x = e.clientX - rect.left;
  mouse.y = e.clientY - rect.top;
});

function drawArena() {
  // Arena floor gradient
  const grd = ctx.createRadialGradient(arena.x, arena.y, 50, arena.x, arena.y, arena.radius);
  grd.addColorStop(0, "#444");
  grd.addColorStop(1, "#000");
  ctx.beginPath();
  ctx.arc(arena.x, arena.y, arena.radius, 0, Math.PI * 2);
  ctx.fillStyle = grd;
  ctx.fill();

  // Outer ring glow
  ctx.strokeStyle = "#ff4444";
  ctx.lineWidth = 8;
  ctx.shadowBlur = 15;
  ctx.shadowColor = "#ff0000";
  ctx.stroke();
  ctx.shadowBlur = 0;Style = "#888";
  ctx.lineWidth = 6;
  ctx.stroke();
}

function drawPlayer() {
  const grd = ctx.createRadialGradient(player.x, player.y, 5, player.x, player.y, player.radius);
  grd.addColorStop(0, "#88ddff");
  grd.addColorStop(1, "#1a5c88");
  ctx.beginPath();
  ctx.arc(player.x, player.y, player.radius, 0, Math.PI * 2);
  ctx.fillStyle = grd;
  ctx.fill();
}

function drawEnemies() {
  enemies.forEach(e => {
    if (!e.alive) return;
    ctx.beginPath();
    ctx.arc(e.x, e.y, e.radius, 0, Math.PI * 2);
    ctx.fillStyle = ctx.createRadialGradient(e.x, e.y, 5, e.x, e.y, e.radius);
    ctx.fillStyle.addColorStop?.(0, "#ffaaaa");
    ctx.fillStyle.addColorStop?.(1, "#aa0000");
    ctx.fill();
  });
}

function movePlayer() {
  const dx = mouse.x - player.x;
  const dy = mouse.y - player.y;
  const dist = Math.hypot(dx, dy);

  if (dist > 5) {
    player.vx = (dx / dist) * player.speed;
    player.vy = (dy / dist) * player.speed;
  } else {
    player.vx = 0;
    player.vy = 0;
  }

  player.x += player.vx;
  player.y += player.vy;

  // Keep inside arena
  const distFromCenter = Math.hypot(player.x - arena.x, player.y - arena.y);
  if (distFromCenter > arena.radius - player.radius) {
    const angle = Math.atan2(player.y - arena.y, player.x - arena.x);
    player.x = arena.x + Math.cos(angle) * (arena.radius - player.radius);
    player.y = arena.y + Math.sin(angle) * (arena.radius - player.radius);
  }
}

// Enemies move toward the player and disappear when they hit the arena edge
function moveEnemies() {
  enemies.forEach(e => {
    if (!e.alive) return;

    const dx = player.x - e.x;
    const dy = player.y - e.y;
    const distToPlayer = Math.hypot(dx, dy) || 1; // avoid divide by 0
    const speed = 2;
    e.vx = (dx / distToPlayer) * speed;
    e.vy = (dy / distToPlayer) * speed;

    e.x += e.vx;
    e.y += e.vy;

    // If enemy reaches the arena circle, it disappears
    const distToCenter = Math.hypot(e.x - arena.x, e.y - arena.y);
    if (distToCenter > arena.radius - e.radius) {
      e.alive = false;
    }
  });
}

function checkCollisions() {
  enemies.forEach(e => {
    if (!e.alive) return;

    const dx = e.x - player.x;
    const dy = e.y - player.y;
    const dist = Math.hypot(dx, dy);

    if (dist < e.radius + player.radius) {
      // Knock enemy away when hitting the player
      const angle = Math.atan2(dy, dx);
      e.vx = Math.cos(angle) * 6;
      e.vy = Math.sin(angle) * 6;
      e.x += e.vx;
      e.y += e.vy;
    }
  });
}

function drawHUD() {
  ctx.fillStyle = "white";
  ctx.font = "22px Arial";
  const aliveCount = enemies.filter(e => e.alive).length;
  ctx.fillText("Enemies Left: " + aliveCount, 20, 30);

  if (aliveCount === 0) {
    ctx.font = "40px Arial";
    ctx.fillText("YOU WIN!", W / 2 - 100, H / 2);
  }
}

function loop() {
  ctx.clearRect(0, 0, W, H);
  drawArena();
  movePlayer();
  moveEnemies();
  checkCollisions();
  drawPlayer();
  drawEnemies();
  drawHUD();
  requestAnimationFrame(loop);
}

loop();
</script>
</body>
</html>

